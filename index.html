<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>INNLOS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  width: 100%;
  height: 100%;
}

body {
  background: radial-gradient(circle at center, #003b1f 0%, #000 70%);
  font-family: 'VT323', monospace;
  color: #00ff66;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* TERMINAL */
.terminal {
  width: min(90vw, 720px);
  padding: 40px;
  box-sizing: border-box;
  text-align: left;
}

/* TEXT */
.line {
  font-size: 22px;
  line-height: 1.6;
  text-shadow: 0 0 8px rgba(0,255,102,0.6);
}

.title {
  font-size: 28px;
  letter-spacing: 2px;
}

.dim {
  opacity: 0.6;
}

.gap {
  height: 18px;
}

/* LOADING BAR */
.loading {
  margin-top: 30px;
}

.bar {
  width: 320px;
  height: 18px;
  border: 2px solid #00ff66;
  padding: 2px;
  box-sizing: border-box;
}

.fill {
  height: 100%;
  width: 0%;
  background: #00ff66;
}

.percent {
  margin-top: 6px;
  font-size: 20px;
}
</style>
</head>

<body>
<div class="terminal">

  <div class="line title">INNLOS v0.1.0</div>

  <div class="gap"></div>

  <div class="line">&gt; status: UNDER CONSTRUCTION_</div>

  <div class="gap"></div>

  <div class="line">&lt;innlos.environment&gt;</div>
  <div class="line">&gt; <span id="typedText"></span></div>

  <div class="loading">
    <div class="line">NOW LOADING</div>
    <div class="bar">
      <div class="fill" id="fill"></div>
    </div>
    <div class="percent" id="percent">0%</div>
    <div class="line dim" id="error" style="display:none;">
      ERROR: unexpected memory fault<br>
      retrying...
    </div>
  </div>

</div>

<script>
const fill = document.getElementById("fill");
const percentText = document.getElementById("percent");
const errorText = document.getElementById("error");
const typedText = document.getElementById("typedText");

const sentence = "where AI meets math in logistics!";
const totalChars = sentence.length;

const steps = [
  { to: 8, delay: 400 },
  { to: 21, delay: 900 },
  { to: 37, delay: 600 },
  { to: 34, delay: 800 },   // geri gider
  { to: 58, delay: 700 },
  { to: 72, delay: 1500 },  // uzun bekleme
  { to: 100, delay: 500 }
];

let current = 0;
let stepIndex = 0;

function syncTextWithProgress() {
  const charsToShow = Math.floor((current / 100) * totalChars);
  typedText.textContent = sentence.substring(0, charsToShow);
}

function resetLoading() {
  current = 0;
  stepIndex = 0;
  fill.style.width = "0%";
  percentText.textContent = "0%";
  typedText.textContent = "";
  errorText.style.display = "none";
  setTimeout(runLoading, 800);
}

function runLoading() {
  if (stepIndex >= steps.length) {
    errorText.style.display = "block";
    setTimeout(() => {
      resetLoading();
    }, 1600);
    return;
  }

  const target = steps[stepIndex].to;
  const delay = steps[stepIndex].delay;

  const interval = setInterval(() => {
    if (current === target) {
      clearInterval(interval);
      stepIndex++;
      setTimeout(runLoading, delay);
    } else {
      current += current < target ? 1 : -1;
      fill.style.width = current + "%";
      percentText.textContent = current + "%";
      syncTextWithProgress();
    }
  }, 30);
}

runLoading();
</script>

</body>
</html>
